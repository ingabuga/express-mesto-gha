{"level":"error","message":"middlewareError","meta":{"date":"Mon Dec 12 2022 23:55:53 GMT+0600 (Киргизия)","error":{"name":"NotFoundError","statusCode":404},"exception":true,"level":"error","message":"uncaughtException: Данные не найдены\nNotFoundError: Данные не найдены\n    at /Users/Sanchez/dev/express-mesto-gha/routers/index.js:24:37\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:26:3)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[13.55810546875,7.14501953125,4.89013671875],"uptime":29557},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18280281,"external":19197372,"heapTotal":26918912,"heapUsed":23640968,"rss":59412480},"pid":8569,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cache-control":"no-cache","connection":"Upgrade","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2Mzk0ODJiNGY5YzVjYjg2NzQwNWM2MTUiLCJpYXQiOjE2NzA4NjY5ODUsImV4cCI6MTY3MTQ3MTc4NX0.1J52Sd8pjSWEiZtoIegya9SreVJAWLmu7vUmHTC6P7I","host":"localhost:3000","origin":"http://localhost:3000","pragma":"no-cache","sec-websocket-extensions":"permessage-deflate; client_max_window_bits","sec-websocket-key":"ohswecnfdlGh0crUbIIFSQ==","sec-websocket-version":"13","upgrade":"websocket","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/ws","query":{},"url":"/ws"},"stack":"NotFoundError: Данные не найдены\n    at /Users/Sanchez/dev/express-mesto-gha/routers/index.js:24:37\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:26:3)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":37,"file":"/Users/Sanchez/dev/express-mesto-gha/routers/index.js","function":null,"line":24,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":26,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Mon Dec 12 2022 23:56:57 GMT+0600 (Киргизия)","error":{"name":"NotFoundError","statusCode":404},"exception":true,"level":"error","message":"uncaughtException: Данные не найдены\nNotFoundError: Данные не найдены\n    at /Users/Sanchez/dev/express-mesto-gha/routers/index.js:24:37\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:26:3)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[6.17822265625,6.2109375,4.703125],"uptime":29621},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18281486,"external":20058219,"heapTotal":59686912,"heapUsed":24272240,"rss":74670080},"pid":8668,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cache-control":"no-cache","connection":"Upgrade","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2Mzk0ODJiNGY5YzVjYjg2NzQwNWM2MTUiLCJpYXQiOjE2NzA4NjY5ODUsImV4cCI6MTY3MTQ3MTc4NX0.1J52Sd8pjSWEiZtoIegya9SreVJAWLmu7vUmHTC6P7I","host":"localhost:3000","origin":"http://localhost:3000","pragma":"no-cache","sec-websocket-extensions":"permessage-deflate; client_max_window_bits","sec-websocket-key":"FDhdoSQKRFzv8uBdaCxzTA==","sec-websocket-version":"13","upgrade":"websocket","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/ws","query":{},"url":"/ws"},"stack":"NotFoundError: Данные не найдены\n    at /Users/Sanchez/dev/express-mesto-gha/routers/index.js:24:37\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:26:3)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":37,"file":"/Users/Sanchez/dev/express-mesto-gha/routers/index.js","function":null,"line":24,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":26,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Mon Dec 12 2022 23:59:05 GMT+0600 (Киргизия)","error":{"name":"NotFoundError","statusCode":404},"exception":true,"level":"error","message":"uncaughtException: Данные не найдены\nNotFoundError: Данные не найдены\n    at /Users/Sanchez/dev/express-mesto-gha/routers/index.js:24:37\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:26:3)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[3.20361328125,5.02880859375,4.43212890625],"uptime":29749},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18292175,"external":19209266,"heapTotal":26394624,"heapUsed":24080528,"rss":29573120},"pid":8747,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","cache-control":"no-cache","connection":"Upgrade","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2Mzk0ODJiNGY5YzVjYjg2NzQwNWM2MTUiLCJpYXQiOjE2NzA4NjY5ODUsImV4cCI6MTY3MTQ3MTc4NX0.1J52Sd8pjSWEiZtoIegya9SreVJAWLmu7vUmHTC6P7I","host":"localhost:3000","origin":"http://localhost:3000","pragma":"no-cache","sec-websocket-extensions":"permessage-deflate; client_max_window_bits","sec-websocket-key":"vl6sJWr0ySguZ0HMv0jTRA==","sec-websocket-version":"13","upgrade":"websocket","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/ws","query":{},"url":"/ws"},"stack":"NotFoundError: Данные не найдены\n    at /Users/Sanchez/dev/express-mesto-gha/routers/index.js:24:37\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:26:3)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":37,"file":"/Users/Sanchez/dev/express-mesto-gha/routers/index.js","function":null,"line":24,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":26,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 00:01:28 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[3.5361328125,4.20166015625,4.16796875],"uptime":29892},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18279664,"external":19196755,"heapTotal":26132480,"heapUsed":23543192,"rss":46735360},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","accept-encoding":"gzip, deflate","accept-language":"ru","connection":"keep-alive","host":"localhost:3001","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.2 Safari/605.1.15"},"httpVersion":"1.1","method":"GET","originalUrl":"/","query":{},"url":"/"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 00:32:02 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[2.39306640625,2.22314453125,2.27392578125],"uptime":31726},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18339670,"external":19708168,"heapTotal":30588928,"heapUsed":28689648,"rss":26873856},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","dnt":"1","host":"localhost:3001","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 00:56:13 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[2.5869140625,2.27685546875,2.341796875],"uptime":33177},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18380953,"external":20234405,"heapTotal":33734656,"heapUsed":31900632,"rss":24961024},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","dnt":"1","host":"localhost:3001","if-none-match":"W/\"f7-msdXM1cdE5NMUI6cALH230Rxp4g\"","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 00:56:35 GMT+0600 (Киргизия)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/celebrate/lib/celebrate.js:95:19\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","os":{"loadavg":[2.396484375,2.2568359375,2.33203125],"uptime":33199},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18378242,"external":20256150,"heapTotal":33734656,"heapUsed":31853472,"rss":26591232},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"187","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2Mzk0ODJiNGY5YzVjYjg2NzQwNWM2MTUiLCJpYXQiOjE2NzA4NzEzODMsImV4cCI6MTY3MTQ3NjE4M30.NSh-venUdxS7CT2ASYtZpiK8LOaqi20_5W6HUChOTh8","dnt":"1","host":"localhost:3001","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"POST","originalUrl":"/cards","query":{},"url":"/cards"},"stack":"Error: Validation failed\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/celebrate/lib/celebrate.js:95:19\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","trace":[{"column":19,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":null,"file":null,"function":"runMicrotasks","line":null,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"processTicksAndRejections","line":96,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 00:56:38 GMT+0600 (Киргизия)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/celebrate/lib/celebrate.js:95:19\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","os":{"loadavg":[2.6845703125,2.31884765625,2.353515625],"uptime":33202},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18379251,"external":20257159,"heapTotal":33734656,"heapUsed":32175000,"rss":29417472},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"187","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2Mzk0ODJiNGY5YzVjYjg2NzQwNWM2MTUiLCJpYXQiOjE2NzA4NzEzODMsImV4cCI6MTY3MTQ3NjE4M30.NSh-venUdxS7CT2ASYtZpiK8LOaqi20_5W6HUChOTh8","dnt":"1","host":"localhost:3001","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"POST","originalUrl":"/cards","query":{},"url":"/cards"},"stack":"Error: Validation failed\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/celebrate/lib/celebrate.js:95:19\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","trace":[{"column":19,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":null,"file":null,"function":"runMicrotasks","line":null,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"processTicksAndRejections","line":96,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 00:57:05 GMT+0600 (Киргизия)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/celebrate/lib/celebrate.js:95:19\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","os":{"loadavg":[3.5654296875,2.53759765625,2.4287109375],"uptime":33229},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18314518,"external":20306933,"heapTotal":33734656,"heapUsed":27011832,"rss":41807872},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"182","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2Mzk0ODJiNGY5YzVjYjg2NzQwNWM2MTUiLCJpYXQiOjE2NzA4NzEzODMsImV4cCI6MTY3MTQ3NjE4M30.NSh-venUdxS7CT2ASYtZpiK8LOaqi20_5W6HUChOTh8","dnt":"1","host":"localhost:3001","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"POST","originalUrl":"/cards","query":{},"url":"/cards"},"stack":"Error: Validation failed\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/celebrate/lib/celebrate.js:95:19\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","trace":[{"column":19,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/celebrate/lib/celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":null,"file":null,"function":"runMicrotasks","line":null,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"processTicksAndRejections","line":96,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 01:01:03 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Неправильные почта или пароль\nDataAccessError: Неправильные почта или пароль\n    at model.Query.<anonymous> (/Users/Sanchez/dev/express-mesto-gha/models/user.js:49:19)\n    at _orFailError (/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:4866:15)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:4818:17\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:4973:15\n    at model.Query.Query._completeOne (/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:2443:12)\n    at Immediate.<anonymous> (/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:2520:10)\n    at Immediate.<anonymous> (/Users/Sanchez/dev/express-mesto-gha/node_modules/mquery/lib/utils.js:127:16)\n    at processImmediate (node:internal/timers:466:21)","os":{"loadavg":[1.6318359375,2.283203125,2.35546875],"uptime":33467},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18331086,"external":20447190,"heapTotal":33734656,"heapUsed":28040720,"rss":28614656},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"44","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2Mzk0ODJiNGY5YzVjYjg2NzQwNWM2MTUiLCJpYXQiOjE2NzA4NzE2NTMsImV4cCI6MTY3MTQ3NjQ1M30.8iroL8RCJKudjGgCawLmV4NZ2_x1yv4VxN3Y4EuQ53Q","dnt":"1","host":"localhost:3001","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"DataAccessError: Неправильные почта или пароль\n    at model.Query.<anonymous> (/Users/Sanchez/dev/express-mesto-gha/models/user.js:49:19)\n    at _orFailError (/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:4866:15)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:4818:17\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:4973:15\n    at model.Query.Query._completeOne (/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:2443:12)\n    at Immediate.<anonymous> (/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:2520:10)\n    at Immediate.<anonymous> (/Users/Sanchez/dev/express-mesto-gha/node_modules/mquery/lib/utils.js:127:16)\n    at processImmediate (node:internal/timers:466:21)","trace":[{"column":19,"file":"/Users/Sanchez/dev/express-mesto-gha/models/user.js","function":null,"line":49,"method":null,"native":false},{"column":15,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js","function":"_orFailError","line":4866,"method":null,"native":false},{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js","function":null,"line":4818,"method":null,"native":false},{"column":15,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js","function":null,"line":4973,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js","function":"model.Query.Query._completeOne","line":2443,"method":"_completeOne","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js","function":null,"line":2520,"method":null,"native":false},{"column":16,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/mquery/lib/utils.js","function":null,"line":127,"method":null,"native":false},{"column":21,"file":"node:internal/timers","function":"processImmediate","line":466,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 01:02:52 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[1.65576171875,2.0966796875,2.27099609375],"uptime":33576},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18325922,"external":20525868,"heapTotal":33734656,"heapUsed":28495496,"rss":26378240},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","dnt":"1","host":"localhost:3001","if-none-match":"W/\"d2-1cogpf+xG4J/ToE+S02RA+zEmpc\"","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 01:03:09 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[1.83740234375,2.1064453125,2.26904296875],"uptime":33593},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18335987,"external":20546378,"heapTotal":33734656,"heapUsed":28683784,"rss":27168768},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","dnt":"1","host":"localhost:3001","if-none-match":"W/\"f7-msdXM1cdE5NMUI6cALH230Rxp4g\"","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 01:05:07 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[2.0966796875,2.1181640625,2.25048828125],"uptime":33711},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18321588,"external":20600133,"heapTotal":33734656,"heapUsed":28282776,"rss":24530944},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","dnt":"1","host":"localhost:3001","if-none-match":"W/\"f7-msdXM1cdE5NMUI6cALH230Rxp4g\"","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 01:09:11 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[5.7060546875,3.13525390625,2.58349609375],"uptime":33955},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18332805,"external":20711460,"heapTotal":33734656,"heapUsed":29364720,"rss":25595904},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","dnt":"1","host":"localhost:3001","if-none-match":"W/\"f7-msdXM1cdE5NMUI6cALH230Rxp4g\"","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 01:09:14 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[5.4892578125,3.1328125,2.58544921875],"uptime":33958},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18338203,"external":20716858,"heapTotal":33734656,"heapUsed":29524496,"rss":26783744},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","dnt":"1","host":"localhost:3001","if-none-match":"W/\"f7-msdXM1cdE5NMUI6cALH230Rxp4g\"","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 01:09:14 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[5.4892578125,3.1328125,2.58544921875],"uptime":33958},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18343597,"external":20722252,"heapTotal":33734656,"heapUsed":29666528,"rss":27365376},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-type":"application/json","dnt":"1","host":"localhost:3001","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/cards","query":{},"url":"/cards"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 01:09:14 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[5.4892578125,3.1328125,2.58544921875],"uptime":33958},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18335775,"external":20735811,"heapTotal":33734656,"heapUsed":29021328,"rss":27099136},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","dnt":"1","host":"localhost:3001","if-none-match":"W/\"f7-msdXM1cdE5NMUI6cALH230Rxp4g\"","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 01:09:14 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[5.4892578125,3.1328125,2.58544921875],"uptime":33958},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18341169,"external":20741205,"heapTotal":33734656,"heapUsed":29159256,"rss":27340800},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-type":"application/json","dnt":"1","host":"localhost:3001","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/cards","query":{},"url":"/cards"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 01:09:14 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[5.4892578125,3.1328125,2.58544921875],"uptime":33958},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18346536,"external":20746572,"heapTotal":33734656,"heapUsed":29296440,"rss":27574272},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","dnt":"1","host":"localhost:3001","if-none-match":"W/\"f7-msdXM1cdE5NMUI6cALH230Rxp4g\"","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 01:09:14 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[5.4892578125,3.1328125,2.58544921875],"uptime":33958},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18351930,"external":20751966,"heapTotal":33734656,"heapUsed":29434104,"rss":27897856},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","dnt":"1","host":"localhost:3001","if-none-match":"W/\"f7-msdXM1cdE5NMUI6cALH230Rxp4g\"","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 01:09:47 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[3.83935546875,2.95947265625,2.541015625],"uptime":33991},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18345936,"external":20828115,"heapTotal":33734656,"heapUsed":30327816,"rss":30793728},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","dnt":"1","host":"localhost:3001","if-none-match":"W/\"f7-msdXM1cdE5NMUI6cALH230Rxp4g\"","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 01:09:55 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Неправильные почта или пароль\nDataAccessError: Неправильные почта или пароль\n    at model.Query.<anonymous> (/Users/Sanchez/dev/express-mesto-gha/models/user.js:49:19)\n    at _orFailError (/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:4866:15)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:4818:17\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:4973:15\n    at model.Query.Query._completeOne (/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:2443:12)\n    at Immediate.<anonymous> (/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:2520:10)\n    at Immediate.<anonymous> (/Users/Sanchez/dev/express-mesto-gha/node_modules/mquery/lib/utils.js:127:16)\n    at processImmediate (node:internal/timers:466:21)","os":{"loadavg":[3.40234375,2.89453125,2.5224609375],"uptime":33999},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18337582,"external":20835097,"heapTotal":33734656,"heapUsed":29847704,"rss":30445568},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"44","content-type":"application/json","dnt":"1","host":"localhost:3001","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"DataAccessError: Неправильные почта или пароль\n    at model.Query.<anonymous> (/Users/Sanchez/dev/express-mesto-gha/models/user.js:49:19)\n    at _orFailError (/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:4866:15)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:4818:17\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:4973:15\n    at model.Query.Query._completeOne (/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:2443:12)\n    at Immediate.<anonymous> (/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js:2520:10)\n    at Immediate.<anonymous> (/Users/Sanchez/dev/express-mesto-gha/node_modules/mquery/lib/utils.js:127:16)\n    at processImmediate (node:internal/timers:466:21)","trace":[{"column":19,"file":"/Users/Sanchez/dev/express-mesto-gha/models/user.js","function":null,"line":49,"method":null,"native":false},{"column":15,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js","function":"_orFailError","line":4866,"method":null,"native":false},{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js","function":null,"line":4818,"method":null,"native":false},{"column":15,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js","function":null,"line":4973,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js","function":"model.Query.Query._completeOne","line":2443,"method":"_completeOne","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/mongoose/lib/query.js","function":null,"line":2520,"method":null,"native":false},{"column":16,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/mquery/lib/utils.js","function":null,"line":127,"method":null,"native":false},{"column":21,"file":"node:internal/timers","function":"processImmediate","line":466,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Dec 13 2022 01:10:52 GMT+0600 (Киргизия)","error":{"name":"DataAccessError","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nDataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","os":{"loadavg":[2.64697265625,2.74755859375,2.48828125],"uptime":34056},"process":{"argv":["/usr/local/bin/node","/Users/Sanchez/dev/express-mesto-gha/app.js"],"cwd":"/Users/Sanchez/dev/express-mesto-gha","execPath":"/usr/local/bin/node","gid":20,"memoryUsage":{"arrayBuffers":18344322,"external":20885509,"heapTotal":33996800,"heapUsed":30824176,"rss":32157696},"pid":8945,"uid":502,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","dnt":"1","host":"localhost:3001","if-none-match":"W/\"d9-mfINdHsXMJV1kH5KtedTATiiby8\"","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Google Chrome\";v=\"108\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"},"httpVersion":"1.1","method":"GET","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"DataAccessError: Необходима авторизация\n    at module.exports (/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js:14:17)\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:280:10)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js:429:9\n    at Layer.handle [as handle_request] (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:328:13)\n    at /Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js:286:9","trace":[{"column":17,"file":"/Users/Sanchez/dev/express-mesto-gha/middlewares/auth.js","function":"module.exports","line":14,"method":"exports","native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express-winston/index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"/Users/Sanchez/dev/express-mesto-gha/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false}]}}
